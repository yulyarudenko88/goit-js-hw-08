{"mappings":"YAEA,IAAMA,EAASC,SAASC,cAAc,kBAChCC,EAAc,sBAEhBC,EAAO,IAuBX,WACE,IACE,IAAIC,EAAWC,KAAKC,MAAMC,aAAaC,QAAQN,IAC/C,IAAKE,EACH,OAGFD,EAAOC,EACPL,EAAOU,MAAMC,OAAQP,aAAA,EAAAA,EAAMM,QAAS,GACpCV,EAAOY,QAAQD,OAAQP,aAAA,EAAAA,EAAMQ,UAAW,E,CACxC,MAAOC,GACPC,QAAQC,IAAI,iBAAkBF,EAAMD,Q,EAhCxCI,GAEAhB,EAAOiB,iBAAiB,QAASC,UAIjC,SAAyBC,IACvBf,EAAOE,KAAKC,MAAMC,aAAaC,QAAQN,KAAiB,IAEnDgB,EAAMC,OAAOC,MAAQF,EAAMC,OAAOT,MAAMW,OAE7Cd,aAAae,QAAQpB,EAAaG,KAAKkB,UAAUpB,G,GATQ,MAE3DJ,EAAOiB,iBAAiB,UAUxB,SAAsBE,GACpBA,EAAMM,iBACNN,EAAMC,OAAOM,QACbZ,QAAQC,IAAIX,GACZI,aAAamB,WAAWxB,E","sources":["src/js/03-feedback.js"],"sourcesContent":["// import throttle from 'lodash.throttle';\n\nconst formEl = document.querySelector('.feedback-form');\nconst STORAGE_KEY = 'feedback-form-state';\n\nlet data = {};\n\nloadForm();\n\nformEl.addEventListener('input', throttle(onSaveFormInput, 500));\n\nformEl.addEventListener('submit', onFormSubmit);\n\nfunction onSaveFormInput(event) {\n  data = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};\n\n  data[event.target.name] = event.target.value.trim();\n\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();  \n  event.target.reset();\n  console.log(data);\n  localStorage.removeItem(STORAGE_KEY);\n}\n\nfunction loadForm() {\n  try {\n    let formLoad = JSON.parse(localStorage.getItem(STORAGE_KEY));\n    if (!formLoad) {\n      return;\n    }\n\n    data = formLoad;\n    formEl.email.value = data?.email || '';\n    formEl.message.value = data?.message || '';\n  } catch (error) {\n    console.log('Error.message ', error.message);\n  }\n}"],"names":["$b00c40859be242c5$var$formEl","document","querySelector","$b00c40859be242c5$var$STORAGE_KEY","$b00c40859be242c5$var$data","formLoad","JSON","parse","localStorage","getItem","email","value","message","error","console","log","$b00c40859be242c5$var$loadForm","addEventListener","throttle","event","target","name","trim","setItem","stringify","preventDefault","reset","removeItem"],"version":3,"file":"03-feedback.638ffd53.js.map"}