{"mappings":"AAEA,MAAMA,EAASC,SAASC,cAAc,kBAGtC,IAAIC,EAAO,IAuBX,WACE,IACE,IAAIC,EAAWC,KAAKC,MAAMC,aAAaC,QA3BvB,wBA4BhB,IAAKJ,EACH,OAGFD,EAAOC,EACPJ,EAAOS,MAAMC,OAAQP,aAAA,EAAAA,EAAMM,QAAS,GACpCT,EAAOW,QAAQD,OAAQP,aAAA,EAAAA,EAAMQ,UAAW,E,CACxC,MAAOC,GACPC,QAAQC,IAAI,iBAAkBF,EAAMD,Q,EAhCxCI,GAEAf,EAAOgB,iBAAiB,QAASC,UAIjC,SAAyBC,GACvBf,EAAOE,KAAKC,MAAMC,aAAaC,QAXb,yBAWsC,GAExDL,EAAKe,EAAMC,OAAOC,MAAQF,EAAMC,OAAOT,MAAMW,OAE7Cd,aAAae,QAfK,sBAegBjB,KAAKkB,UAAUpB,G,GATQ,MAE3DH,EAAOgB,iBAAiB,UAUxB,SAAsBE,GACpBA,EAAMM,iBACNN,EAAMC,OAAOM,QACbZ,QAAQC,IAAIX,GACZI,aAAamB,WAtBK,sB","sources":["src/js/03-feedback.js"],"sourcesContent":["// import throttle from 'lodash.throttle';\n\nconst formEl = document.querySelector('.feedback-form');\nconst STORAGE_KEY = 'feedback-form-state';\n\nlet data = {};\n\nloadForm();\n\nformEl.addEventListener('input', throttle(onSaveFormInput, 500));\n\nformEl.addEventListener('submit', onFormSubmit);\n\nfunction onSaveFormInput(event) {\n  data = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};\n\n  data[event.target.name] = event.target.value.trim();\n\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();  \n  event.target.reset();\n  console.log(data);\n  localStorage.removeItem(STORAGE_KEY);\n}\n\nfunction loadForm() {\n  try {\n    let formLoad = JSON.parse(localStorage.getItem(STORAGE_KEY));\n    if (!formLoad) {\n      return;\n    }\n\n    data = formLoad;\n    formEl.email.value = data?.email || '';\n    formEl.message.value = data?.message || '';\n  } catch (error) {\n    console.log('Error.message ', error.message);\n  }\n}"],"names":["$945622fd0f572e60$var$formEl","document","querySelector","$945622fd0f572e60$var$data","formLoad","JSON","parse","localStorage","getItem","email","value","message","error","console","log","$945622fd0f572e60$var$loadForm","addEventListener","throttle","event","target","name","trim","setItem","stringify","preventDefault","reset","removeItem"],"version":3,"file":"03-feedback.a245cd49.js.map"}